<html>
  <head>
    <title>Image Recognition as a Service</title>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BmbxuPwQa2lc/FVzBcNJ7UAyJxM6wuqIj61tLrc4wSX0szH/Ev+nYRRuWlolflfl" crossorigin="anonymous">

    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="font-awesome.min.css">
  </head>

  <body>
    <div class="container py-5">
      
      <div class="row py-4">
        <div class="col-lg-6 mx-auto">
          <form class="text-white text-center" id="uploadForm" enctype="multipart/form-data" action="/api/photo" method="post">
            <input type="file" name="userPhoto" multiple />
            <input class="display-4" type="submit" value="Upload Image" name="submit">      
            <span id = "status"></span>
            </form>

            <form id="getResult" action="/receive" method="get">
              <input type="submit" value="Show Results" name="submit">
            </form>
          
            <ul>
        
              <!-- <%- JSON.stringify(dataDict) %> -->
              
              <!-- <% for( k of Object.keys(dataDict)) {%>
                  <li><%= k%>, <%= dataDict[k]%></li>        
              <% } %> -->
              
              <% if(dataDict) { %>
                  <% for( k of Object.keys(dataDict)) {%>
                      <li><%= k%>, <%= dataDict[k]%></li>
                  <% } %>
              <% } else { %>
                  No Results!
              <% } %>
                  
          
              </ul>
          
        </div>
      </div>
      
      
      
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/js/bootstrap.bundle.min.js" integrity="sha384-b5kHyXgcpbZJO/tY9Ul7kGkf1S0CWuKcCD38l8YkeH8z8QjE0GmW1gYU5S9FOnJ0" crossorigin="anonymous"></script>
   <script src="script.js"></script>
   <script src="jquery-3.3.1.slim.min.js"></script>
   <script src="bootstrap.bundle.min.js"></script>
  <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
  <script src="http://cdnjs.cloudflare.com/ajax/libs/jquery.form/3.51/jquery.form.min.js"></script>
  </body>
  
  <script>
  $(document).ready(function() {
     $('#uploadForm').submit(function() {
        $("#status").empty().text("File is uploading...");
        $(this).ajaxSubmit({
            error: function(xhr) {
          status('Error: ' + xhr.status);
            },
            success: function(response) {
        console.log(response)
            $("#status").empty().text(response);
            }
    });
    return false;
    });    
});
</script>
<script src="http://cdnjs.cloudflare.com/ajax/libs/jquery.form/3.51/jquery.form.min.js"></script>

</html>